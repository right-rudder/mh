---
import { FaBriefcase } from "react-icons/fa";
import ImageComp from "../ImageComp.astro";

interface Props {
  data: {
    title: string;
    upperheader?: string;
    descriptionParagraphs?: string[];
    opportunities: string[];
    disclaimer?: string;
    mainImage?: string;
    mainImageAlt?: string;
  };
}

const { data } = Astro.props;
---

<section class="py-20 md:py-24 bg-ink-50 reveal-section opacity-0 translate-y-8 transition-all duration-1000 ease-out overflow-hidden">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-stretch">
      
      <div class="order-2 lg:order-1 flex flex-col justify-center">
        <div>
          <span class="subtitle">
            {data.upperheader || "Career Outlook"}
          </span>
          <h2 class="title-black">
            {data.title}
          </h2>
        </div>

        <div class="space-y-6 text-ink-600 text-lg leading-relaxed mb-10">
          {data.descriptionParagraphs?.map(p => <p>{p}</p>)}
        </div>

        <div class="mb-8">
          <h4 class="text-sm font-bold text-ink-950 uppercase tracking-widest mb-4 border-b border-ink-200 pb-2 inline-block">
            Potential Roles
          </h4>
          <div class="flex flex-wrap gap-3">
            {data.opportunities.map((opp) => (
              <div class="group bg-white pl-4 pr-5 py-3 rounded-sm border-l-4 border-ochre-600 text-ink-900 font-bold text-sm flex items-center gap-3 shadow-sm hover:shadow-md hover:bg-ink-900 hover:text-white transition-all duration-400 easy-in cursor-default">
                <FaBriefcase className="text-ochre-600 group-hover:text-ochre-500 transition-colors" />
                {opp}
              </div>
            ))}
          </div>
        </div>

        {data.disclaimer && (
          <div class="flex items-start gap-3 mt-auto p-4 bg-ink-100/50 rounded-sm border border-ink-100">
            <div class="mt-1 w-1.5 h-1.5 rounded-full bg-ochre-600 flex-shrink-0"></div>
            <p class="text-xs text-ink-500 italic leading-relaxed">
              {data.disclaimer}
            </p>
          </div>
        )}
      </div>

      <div class="order-1 lg:order-2 relative group flex">
        <div class="absolute top-4 -right-4 w-full h-full border-2 border-ochre-600/30 rounded-sm z-0 group-hover:top-3 group-hover:-right-3 transition-all duration-500"></div>
        
        <div class="relative z-10 w-full h-full min-h-[400px] rounded-sm overflow-hidden shadow-2xl flex">
          <ImageComp
            src={data.mainImage || "/src/assets/instructing/mh-aviation-instructing-student-02.jpg"}
            alt={data.mainImageAlt || "Aviation Career Path"}
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
          />
          
          <div class="absolute inset-0 bg-gradient-to-t from-ink-950/40 to-transparent pointer-events-none"></div>
        </div>
      </div>

    </div>
  </div>
</section>