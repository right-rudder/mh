---
import { FaCheck } from "react-icons/fa";

interface Props {
  data: {
    title?: string;
    upperheader?: string;
    descriptionParagraphs?: string[];
    highlights?: {
      highlightName: string;
      highlightValue: string;
      pricingObservation?: string;
    }[];
    programHighlights?: {
      benefits?: string[];
      requirements?: string[];
    };
  };
}

const { data } = Astro.props;
---

<section class="py-16 md:py-24 bg-ink-50 reveal-section opacity-0 translate-y-8 transition-all duration-1000 ease-out">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-20">
      
      <div class="lg:col-span-7">
        {data.upperheader && (
          <span class="subtitle">
            {data.upperheader}
          </span>
        )}
        
        {data.title && (
          <h2 class="title-black" set:html={data.title}>
          </h2>
        )}

        <div class="prose prose-lg text-ink-950 mb-10">
          {data.descriptionParagraphs?.map((p) => (
            <p class="mb-4">{p}</p>
          ))}
        </div>

        {data.programHighlights?.benefits && (
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {data.programHighlights.benefits.map((benefit) => (
              <div class="flex items-start gap-3">
                <div class="mt-1 flex-shrink-0 w-5 h-5 rounded-full bg-ochre-100 flex items-center justify-center text-ochre-600 text-xs">
                  <FaCheck />
                </div>
                <span class="text-ink-900 font-medium text-sm">{benefit}</span>
              </div>
            ))}
          </div>
        )}
      </div>

      <div class="lg:col-span-5">
        <div class="bg-ink-50 p-8 rounded-sm shadow-xl border-t-4 border-ochre-600 sticky top-32">
          <h3 class="title-black">
            Program Overview
          </h3>
          
          <div class="space-y-6">
            {data.highlights?.map((highlight) => (
              <div class="pb-6 border-b border-ink-100 last:border-0 last:pb-0">
                <span class="block text-xs font-bold text-ink-400 uppercase tracking-widest mb-1">
                  {highlight.highlightName}
                </span>
                <span class="block text-xl md:text-2xl font-bold text-ink-950">
                  {highlight.highlightValue}
                </span>
                {highlight.pricingObservation && (
                  <span class="block text-xs text-ink-500 mt-1 italic">
                    {highlight.pricingObservation}
                  </span>
                )}
              </div>
            ))}
          </div>

          {data.programHighlights?.requirements && (
            <div class="mt-8 pt-8 border-t border-ink-200">
              <span class="block text-xs font-bold text-ink-900 uppercase tracking-widest mb-4">
                Prerequisites
              </span>
              <ul class="space-y-2 mb-8">
                {data.programHighlights.requirements.map((req) => (
                  <li class="text-sm text-ink-600 flex items-start gap-2">
                    <span class="text-ochre-600">â€¢</span> {req}
                  </li>
                ))}
              </ul>
            </div>
          )}

          <a 
            href="/enroll" 
            class="btn-primary w-full text-center block shadow-lg hover:cursor-pointer uppercase tracking-widest text-sm py-4"
          >
            Enroll Now
          </a>
        </div>
      </div>

    </div>
  </div>
</section>