---
import { ADDRESS, ADDRESS_CITY, ADDRESS_STATE, AIRPORT } from "../data/consts";

interface Props {
  data: {
    eyebrow: string;
    headline: string;
    bodyCopy: string;
  };
}

const { data } = Astro.props;
---

<section class="py-16 md:py-24 bg-ink-950 overflow-hidden">
  <div class="max-w-7xl mx-auto px-5 md:px-8 lg:px-12">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
      <div class="reveal-fade flex flex-col justify-center opacity-0 translate-y-8 transition-all duration-1000 ease-out">
        <p
          class="subtitle"
        >
          {data.eyebrow}
        </p>
        <h2 class="title" set:html={data.headline}></h2>
        <p class="paragraph-text !text-ink-50 mb-8">
          {data.bodyCopy}
        </p>
        <div class="bg-white p-6 rounded-sm shadow-md border-l-4 border-ochre-600">
            <h4 class="font-bold text-ink-950 text-lg mb-2">{AIRPORT}</h4>
             <p class="text-ink-600">{ADDRESS}</p>
             <p class="text-ink-600">{ADDRESS_CITY}, {ADDRESS_STATE}</p>
        </div>
      </div>
      <div class="reveal-fade h-[400px] lg:h-full min-h-[400px] bg-ink-200 rounded-sm overflow-hidden shadow-lg relative opacity-0 translate-y-8 transition-all duration-1000 ease-out delay-200">
          <div class="h-[400px] lg:h-full min-h-[400px] bg-ink-200 rounded-sm overflow-hidden shadow-lg relative">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3278.67043489048!2d-118.21723058798916!3d34.73870067279316!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c243835f87da09%3A0xed2cde05972f3f27!2sMH%20Aviation!5e0!3m2!1spt-BR!2sbr!4v1767990584347!5m2!1spt-BR!2sbr"
          width="100%"
          height="100%"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          class="absolute inset-0 w-full h-full"
        ></iframe>
      </div>
      </div>
    </div>
  </div>
</section>

<script>
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.remove('opacity-0', 'translate-y-8');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('.reveal-fade').forEach((el) => observer.observe(el));
</script>